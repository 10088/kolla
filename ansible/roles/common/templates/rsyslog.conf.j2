# provides support for local system logging
$ModLoad imuxsock
$AddUnixListenSocket /var/lib/kolla/rsyslog/log

$ModLoad imklog
$KLogPermitNonKernelFacility on
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat
$RepeatedMsgReduction on

$template HeatAPIFile,"/var/log/heat/heat-api.log"
:syslogtag,contains,"heat-api" ?HeatAPIFile

$template HeatAPICfnFile,"/var/log/heat/heat-api-cfn.log"
:syslogtag,contains,"heat-api-cfn" ?HeatAPICfnFile

$template HeatEngineFile,"/var/log/heat/heat-engine.log"
:syslogtag,contains,"heat-engine" ?HeatEngineFile

$template NeutronServerFile,"/var/log/neutron/neutron-server.log"
:syslogtag,contains,"neutron-server" ?NeutronServerFile

$template NeutronOVSAgentFile,"/var/log/neutron/neutron-openvswitch-agent.log"
:syslogtag,contains,"neutron-openvswitch-agent" ?NeutronOVSAgentFile

$template NeutronLinuxbrAgentFile,"/var/log/neutron/neutron-linuxbridge-agent.log"
:syslogtag,contains,"neutron-linuxbridge-agent" ?NeutronLinuxbrAgentFile

$template NeutronDHCPAgentFile,"/var/log/neutron/neutron-dhcp-agent.log"
:syslogtag,contains,"neutron-dhcp-agent" ?NeutronDHCPAgentFile

$template NeutronMetadataAgentFile,"/var/log/neutron/neutron-metadata-agent.log"
:syslogtag,contains,"neutron-metadata-agent" ?NeutronMetadataAgentFile

$template NeutronL3AgentFile,"/var/log/neutron/neutron-l3-agent.log"
:syslogtag,contains,"neutron-l3-agent" ?NeutronL3AgentFile

$template CinderApiFile,"/var/log/cinder/cinder-api.log"
:syslogtag,contains,"cinder-api" ?CinderApiFile

$template CinderBackupFile,"/var/log/cinder/cinder-backup.log"
:syslogtag,contains,"cinder-backup" ?CinderBackupFile

$template CinderSchedulerFile,"/var/log/cinder/cinder-scheduler.log"
:syslogtag,contains,"cinder-scheduler" ?CinderSchedulerFile

$template CinderVolumeFile,"/var/log/cinder/cinder-volume.log"
:syslogtag,contains,"cinder-volume" ?CinderVolumeFile

$template SwiftAccountFile,"/var/log/swift/swift-account-server.log"
:syslogtag,contains,"swift-account-server" ?SwiftAccountFile

$template SwiftAccountAuditorFile,"/var/log/swift/swift-account-auditor.log"
:syslogtag,contains,"swift-account-auditor" ?SwiftAccountAuditorFile

$template SwiftAccountServerFile,"/var/log/swift/swift-account-server.log"
:syslogtag,contains,"swift-account-server" ?SwiftAccountServerFile

$template SwiftContainerReplicatorFile,"/var/log/swift/swift-container-replicator.log"
:syslogtag,contains,"swift-container-replicator" ?SwiftContainerReplicatorFile

$template SwiftObjectAuditorFile,"/var/log/swift/swift-object-auditor.log"
:syslogtag,contains,"swift-object-auditor" ?SwiftObjectAuditorFile

$template SwiftObjectReplicatorFile,"/var/log/swift/swift-object-replicator.log"
:syslogtag,contains,"swift-object-replicator" ?SwiftObjectReplicatorFile

$template SwiftProxyServerFile,"/var/log/swift/swift-proxy-server.log"
:syslogtag,contains,"swift-proxy-server" ?SwiftProxyServerFile

$template SwiftAccountReaperFile,"/var/log/swift/swift-account-reaper.log"
:syslogtag,contains,"swift-account-reaper" ?SwiftAccountReaperFile

$template SwiftContainerServerFile,"/var/log/swift/swift-container-server.log"
:syslogtag,contains,"swift-container-server" ?SwiftContainerServerFile

$template SwiftObjectServerFile,"/var/log/swift/swift-object-server.log"
:syslogtag,contains,"swift-object-server" ?SwiftObjectServerFile

$template SwiftRsyncdFile,"/var/log/swift/swift-rsyncd.log"
:syslogtag,contains,"swift-rsyncd" ?SwiftRsyncdFile

$template SwiftAccountReplicatorFile,"/var/log/swift/swift-account-replicator.log"
:syslogtag,contains,"swift-account-replicator" ?SwiftAccountReplicatorFile

$template SwiftContainerAuditorFile,"/var/log/swift/swift-container-auditor.log"
:syslogtag,contains,"swift-container-auditor" ?SwiftContainerAuditorFile

$template SwiftContainerUpdaterFile,"/var/log/swift/swift-container-updater.log"
:syslogtag,contains,"swift-container-updater" ?SwiftContainerUpdaterFile

$template SwiftObjectExpirerFile,"/var/log/swift/swift-object-expirer.log"
:syslogtag,contains,"swift-object-expirer" ?SwiftObjectExpirerFile

$template SwiftObjectUpdaterFile,"/var/log/swift/swift-object-updater.log"
:syslogtag,contains,"swift-object-updater" ?SwiftObjectUpdaterFile

$template MuranoEngineFile,"/var/log/murano/murano-engine.log"
:syslogtag,contains,"murano-engine" ?MuranoEngineFile

$template MuranoApiFile,"/var/log/murano/murano-api.log"
:syslogtag,contains,"murano-api" ?MuranoApiFile

$template MagnumApiFile,"/var/log/magnum/magnum-api.log"
:syslogtag,contains,"magnum-api" ?MagnumApiFile

$template MagnumConductorFile,"/var/log/magnum/magnum-conductor.log"
:syslogtag,contains,"magnum-conductor" ?MagnumConductorFile

$template DynFile,"/var/log/syslog.log"
*.* {
  ?DynFile
  stop
}
