# provides support for local system logging
$ModLoad imuxsock

$ModLoad imklog
$KLogPermitNonKernelFacility on
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat
$RepeatedMsgReduction on

$template KollaAnsibleFile,"/var/log/kolla_ansible.log"
:syslogtag,contains,"ansible" ?KollaAnsibleFile

$template GlanceApiFile,"/var/log/glance/glance_api.log"
:syslogtag,contains,"glance-api" ?GlanceApiFile

$template GlanceRegistryFile,"/var/log/glance/glance_registry.log"
:syslogtag,contains,"glance-registry" ?GlanceRegistryFile

$template NovaApiFile,"/var/log/nova/nova-api.log"
:syslogtag,contains,"nova-api" ?NovaApiFile

$template NovaConductorFile,"/var/log/nova/nova-conductor.log"
:syslogtag,contains,"nova-conductor" ?NovaConductorFile

$template NovaConsoleauthFile,"/var/log/nova/nova-consoleauth.log"
:syslogtag,contains,"nova-consoleauth" ?NovaConsoleauthFile

$template NovaNovncFile,"/var/log/nova/nova-novncproxy.log"
:syslogtag,contains,"nova-novncproxy" ?NovaNovncFile

$template NovaSchedulerFile,"/var/log/nova/nova-scheduler.log"
:syslogtag,contains,"nova-scheduler" ?NovaSchedulerFile

$template NovaComputeFile,"/var/log/nova/nova-compute.log"
:syslogtag,contains,"nova-compute" ?NovaComputeFile

$template DynFile,"/var/log/syslog.log"
*.* ?DynFile
& ~
