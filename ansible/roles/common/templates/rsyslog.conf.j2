# provides support for local system logging
$ModLoad imuxsock

$ModLoad imklog
$KLogPermitNonKernelFacility on
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat
$RepeatedMsgReduction on

$template KollaAnsibleFile,"/var/log/kolla_ansible.log"
:syslogtag,contains,"ansible" ?KollaAnsibleFile

$template GlanceApiFile,"/var/log/glance/glance_api.log"
:syslogtag,contains,"glance-api" ?GlanceApiFile

$template GlanceRegistryFile,"/var/log/glance/glance_registry.log"
:syslogtag,contains,"glance-registry" ?GlanceRegistryFile

$template NovaApiFile,"/var/log/nova/nova-api.log"
:syslogtag,contains,"nova-api" ?NovaApiFile

$template NovaConductorFile,"/var/log/nova/nova-conductor.log"
:syslogtag,contains,"nova-conductor" ?NovaConductorFile

$template NovaConsoleauthFile,"/var/log/nova/nova-consoleauth.log"
:syslogtag,contains,"nova-consoleauth" ?NovaConsoleauthFile

$template NovaNovncFile,"/var/log/nova/nova-novncproxy.log"
:syslogtag,contains,"nova-novncproxy" ?NovaNovncFile

$template NovaSchedulerFile,"/var/log/nova/nova-scheduler.log"
:syslogtag,contains,"nova-scheduler" ?NovaSchedulerFile

$template NovaComputeFile,"/var/log/nova/nova-compute.log"
:syslogtag,contains,"nova-compute" ?NovaComputeFile

$template HeatAPIFile,"/var/log/heat/heat-api.log"
:syslogtag,contains,"heat-api" ?HeatAPIFile

$template HeatAPICfnFile,"/var/log/heat/heat-api-cfn.log"
:syslogtag,contains,"heat-api-cfn" ?HeatAPICfnFile

$template HeatEngineFile,"/var/log/heat/heat-engine.log"
:syslogtag,contains,"heat-engine" ?HeatEngineFile

$template NeutronServerFile,"/var/log/neutron/neutron-server.log"
:syslogtag,contains,"neutron-server" ?NeutronServerFile

$template NeutronOVSAgentFile,"/var/log/neutron/neutron-openvswitch-agent.log"
:syslogtag,contains,"neutron-openvswitch-agent" ?NeutronOVSAgentFile

$template NeutronLinuxbrAgentFile,"/var/log/neutron/neutron-linuxbridge-agent.log"
:syslogtag,contains,"neutron-linuxbridge-agent" ?NeutronLinuxbrAgentFile

$template NeutronDHCPAgentFile,"/var/log/neutron/neutron-dhcp-agent.log"
:syslogtag,contains,"neutron-dhcp-agent" ?NeutronDHCPAgentFile

$template NeutronMetadataAgentFile,"/var/log/neutron/neutron-metadata-agent.log"
:syslogtag,contains,"neutron-metadata-agent" ?NeutronMetadataAgentFile

$template NeutronL3AgentFile,"/var/log/neutron/neutron-l3-agent.log"
:syslogtag,contains,"neutron-l3-agent" ?NeutronL3AgentFile

$template KeystoneErrorFile,"/var/log/keystone/keystone-error.log"
:syslogtag,contains,"keystone-error" ?KeystoneErrorFile

$template KeystoneAccessFile,"/var/log/keystone/keystone-access.log"
:syslogtag,contains,"keystone-access" ?KeystoneAccessFile

$template CinderApiFile,"/var/log/cinder/cinder-api.log"
:syslogtag,contains,"cinder-api" ?CinderApiFile

$template CinderBackupFile,"/var/log/cinder/cinder-backup.log"
:syslogtag,contains,"cinder-backup" ?CinderBackupFile

$template CinderSchedulerFile,"/var/log/cinder/cinder-scheduler.log"
:syslogtag,contains,"cinder-scheduler" ?CinderSchedulerFile

$template CinderVolumeFile,"/var/log/cinder/cinder-volume.log"
:syslogtag,contains,"cinder-volume" ?CinderVolumeFile

$template DynFile,"/var/log/syslog.log"
*.* ?DynFile
& ~
