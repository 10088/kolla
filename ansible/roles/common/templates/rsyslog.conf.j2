# provides support for local system logging
$ModLoad imuxsock
$AddUnixListenSocket /var/lib/kolla/rsyslog/log

$ModLoad imklog
$KLogPermitNonKernelFacility on
$ActionFileDefaultTemplate RSYSLOG_TraditionalFileFormat
$RepeatedMsgReduction on

$template HeatAPIFile,"/var/log/heat/heat-api.log"
:syslogtag,contains,"heat-api" ?HeatAPIFile

$template HeatAPICfnFile,"/var/log/heat/heat-api-cfn.log"
:syslogtag,contains,"heat-api-cfn" ?HeatAPICfnFile

$template HeatEngineFile,"/var/log/heat/heat-engine.log"
:syslogtag,contains,"heat-engine" ?HeatEngineFile

$template CinderApiFile,"/var/log/cinder/cinder-api.log"
:syslogtag,contains,"cinder-api" ?CinderApiFile

$template CinderBackupFile,"/var/log/cinder/cinder-backup.log"
:syslogtag,contains,"cinder-backup" ?CinderBackupFile

$template CinderSchedulerFile,"/var/log/cinder/cinder-scheduler.log"
:syslogtag,contains,"cinder-scheduler" ?CinderSchedulerFile

$template CinderVolumeFile,"/var/log/cinder/cinder-volume.log"
:syslogtag,contains,"cinder-volume" ?CinderVolumeFile

$template MuranoEngineFile,"/var/log/murano/murano-engine.log"
:syslogtag,contains,"murano-engine" ?MuranoEngineFile

$template MuranoApiFile,"/var/log/murano/murano-api.log"
:syslogtag,contains,"murano-api" ?MuranoApiFile

$template MagnumApiFile,"/var/log/magnum/magnum-api.log"
:syslogtag,contains,"magnum-api" ?MagnumApiFile

$template MagnumConductorFile,"/var/log/magnum/magnum-conductor.log"
:syslogtag,contains,"magnum-conductor" ?MagnumConductorFile

$template DynFile,"/var/log/syslog.log"
*.* {
  ?DynFile
  stop
}
